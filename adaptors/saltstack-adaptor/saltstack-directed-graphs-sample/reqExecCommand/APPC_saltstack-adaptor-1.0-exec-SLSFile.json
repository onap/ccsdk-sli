[
	{
		"id": "9e493c5d.c18c7",
		"type": "method",
		"name": "saltstack-adaptor-1.0",
		"xml": "<method rpc='saltstack-adaptor-1.0-exec-SLSFile' mode='sync'>\n",
		"comments": "",
		"outputs": 1,
		"x": 343,
		"y": 177,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"382f8817.0dda08"
			]
		]
	},
	{
		"id": "5ab60e1a.76a",
		"type": "service-logic",
		"name": "APPC 2.0.1",
		"module": "APPC",
		"version": "2.0.1",
		"comments": "",
		"xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='APPC' version='2.0.1'>",
		"outputs": 1,
		"x": 134,
		"y": 255,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"9e493c5d.c18c7"
			]
		]
	},
	{
		"id": "69ba9b5b.21dc44",
		"type": "returnFailure",
		"name": "return failure",
		"xml": "<return status='failure'>\n<parameter name='error-code' value='200' />\n<parameter name='error-message' value='`$org.openecomp.appc.adaptor.saltstack.message`' />\n<parameter name='output.status.results' value='`$org.openecomp.appc.adaptor.saltstack.results`' />\n",
		"comments": "",
		"x": 1053,
		"y": 359,
		"z": "c817b245.e1acf",
		"wires": []
	},
	{
		"id": "382f8817.0dda08",
		"type": "execute",
		"name": "execute",
		"xml": "<execute plugin='org.openecomp.appc.adaptor.saltstack.SaltstackAdaptor' method='reqExecCommand' >\n                        <parameter name='HostName' value='`$AgentUrl`'/>\n                        <parameter name='Port' value='`$Port`'/>\n                        <parameter name='User' value='`$User`'/>\n                        <parameter name='Password' value='`$Password`'/>\n                        <parameter name='Id' value='test1'/>\n                        <parameter name='Cmd' value='salt &apos;*&apos; test.ping --out=json --static'/>\n                        <parameter name='SlsExec' value='false'/>\n                        <parameter name='Timeout' value='`$Timeout`'/>\n",
		"comments": "",
		"outputs": 1,
		"x": 552,
		"y": 179,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"11467754.fc8b19",
				"7eb57428.8570cc"
			]
		]
	},
	{
		"id": "c0b1e722.890768",
		"type": "switchNode",
		"name": "switch",
		"xml": "<switch test=\"`$org.onap.appc.adaptor.saltstack.result.code`\">\n",
		"comments": "",
		"outputs": 1,
		"x": 335,
		"y": 339,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"7bf12507.627b6c",
				"d23ec77b.c9a8f8"
			]
		]
	},
	{
		"id": "7bf12507.627b6c",
		"type": "other",
		"name": "other",
		"xml": "<outcome value='Other'>\n",
		"comments": "",
		"outputs": 1,
		"x": 526,
		"y": 337,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"69ba9b5b.21dc44"
			]
		]
	},
	{
		"id": "11467754.fc8b19",
		"type": "failure",
		"name": "failure",
		"xml": "<outcome value='failure'>\n",
		"comments": "",
		"outputs": 1,
		"x": 802,
		"y": 176,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"69ba9b5b.21dc44"
			]
		]
	},
	{
		"id": "7eb57428.8570cc",
		"type": "other",
		"name": "other",
		"xml": "<outcome value='Other'>\n",
		"comments": "",
		"outputs": 1,
		"x": 157,
		"y": 337,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"c0b1e722.890768"
			]
		]
	},
	{
		"id": "d23ec77b.c9a8f8",
		"type": "success",
		"name": "success",
		"xml": "<outcome value='200'>\n",
		"comments": "",
		"outputs": 1,
		"x": 142,
		"y": 453,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"cc2bc9e2.787ab8"
			]
		]
	},
	{
		"id": "745755b2.4509cc",
		"type": "returnSuccess",
		"name": "return success",
		"xml": "<return status='success'>\n<parameter name='output.status.code' value='`$org.openecomp.appc.adaptor.saltstack.result.code`' />\n<parameter name='output.status.message' value='`$org.openecomp.appc.adaptor.saltstack.message`'/>\n<parameter name='output.status.results' value = '`$org.openecomp.appc.adaptor.saltstack.results`'/>\n",
		"comments": "",
		"x": 833,
		"y": 650,
		"z": "c817b245.e1acf",
		"wires": []
	},
	{
		"id": "cf1290d3.278fd",
		"type": "dgstart",
		"name": "DGSTART",
		"outputs": 1,
		"x": 112,
		"y": 155,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"5ab60e1a.76a"
			]
		]
	},
	{
		"id": "5697d7dc.4e0678",
		"type": "comment",
		"name": "SaltStack Adaptor DG",
		"info": "",
		"comments": "",
		"x": 484,
		"y": 38,
		"z": "c817b245.e1acf",
		"wires": []
	},
	{
		"id": "c923d8a1.848318",
		"type": "comment",
		"name": "request-method = reqExecCommand, req-action = \"execute multiple SLS commands\"",
		"info": "Here we basically test if minion1 is active by pinging to it, then install vim package to it. \n",
		"comments": "",
		"x": 502,
		"y": 121,
		"z": "c817b245.e1acf",
		"wires": []
	},
	{
		"id": "27be8370.edc93c",
		"type": "other",
		"name": "other",
		"xml": "<outcome value='Other'>\n",
		"comments": "",
		"outputs": 1,
		"x": 187,
		"y": 655,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"f4628658.b3b638"
			]
		]
	},
	{
		"id": "186009ee.e1eae6",
		"type": "execute",
		"name": "execute",
		"xml": "<execute plugin='org.openecomp.appc.adaptor.saltstack.SaltstackAdaptor' method='reqExecCommand' >\n                        <parameter name='HostName' value='`$AgentUrl`'/>\n                        <parameter name='Port' value='`$Port`'/>\n                        <parameter name='User' value='`$User`'/>\n                        <parameter name='Password' value='`$Password`'/>\n                        <parameter name='Id' value='test2'/>\n                        <parameter name='Cmd' value='cd /srv/salt/; salt &apos;minion1&apos; state.apply vim --out=json --static'/>\n                        <parameter name='SlsExec' value='true'/>\n                        <parameter name='Timeout' value='`$Timeout`'/>\n",
		"comments": "",
		"outputs": 1,
		"x": 564,
		"y": 542,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"c056efff.509e2",
				"27be8370.edc93c"
			]
		]
	},
	{
		"id": "c056efff.509e2",
		"type": "failure",
		"name": "failure",
		"xml": "<outcome value='failure'>\n",
		"comments": "",
		"outputs": 1,
		"x": 782,
		"y": 548,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"69ba9b5b.21dc44"
			]
		]
	},
	{
		"id": "f4628658.b3b638",
		"type": "switchNode",
		"name": "switch",
		"xml": "<switch test=\"`$org.onap.appc.adaptor.saltstack.result.code`\">\n",
		"comments": "",
		"outputs": 1,
		"x": 369,
		"y": 652,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"f79c7587.586f88",
				"ca95f193.0b712"
			]
		]
	},
	{
		"id": "f79c7587.586f88",
		"type": "other",
		"name": "other",
		"xml": "<outcome value='Other'>\n",
		"comments": "",
		"outputs": 1,
		"x": 574,
		"y": 726,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"69ba9b5b.21dc44"
			]
		]
	},
	{
		"id": "ca95f193.0b712",
		"type": "success",
		"name": "success",
		"xml": "<outcome value='200'>\n",
		"comments": "",
		"outputs": 1,
		"x": 567,
		"y": 652,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"745755b2.4509cc"
			]
		]
	},
	{
		"id": "cc2bc9e2.787ab8",
		"type": "switchNode",
		"name": "switch",
		"xml": "<switch test=\"`$test1.minion1`\">\n",
		"comments": "",
		"outputs": 1,
		"x": 314,
		"y": 453,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"c139043.a0224f8",
				"e16e55cf.bf6f48"
			]
		]
	},
	{
		"id": "e16e55cf.bf6f48",
		"type": "other",
		"name": "outcome",
		"xml": "<outcome value='true'>\n",
		"comments": "",
		"outputs": 1,
		"x": 384,
		"y": 544,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"186009ee.e1eae6"
			]
		]
	},
	{
		"id": "c139043.a0224f8",
		"type": "other",
		"name": "other",
		"xml": "<outcome value='Other'>\n",
		"comments": "",
		"outputs": 1,
		"x": 508,
		"y": 453,
		"z": "c817b245.e1acf",
		"wires": [
			[
				"69ba9b5b.21dc44"
			]
		]
	},
	{
		"id": "7874f92a.9a1f38",
		"type": "comment",
		"name": "Assumptions for this DG (example-server)",
		"info": "1) Here we assume, the saltstack server is the example-vagrant based server. Where, the master saltstact controlls minion1 and minion2. \n2) We assume that sls file called vim.sls is already present in the path /srv/salt on the server.",
		"comments": "",
		"x": 484,
		"y": 80,
		"z": "c817b245.e1acf",
		"wires": []
	}
]